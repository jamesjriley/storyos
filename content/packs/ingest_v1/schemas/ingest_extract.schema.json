{
  "type":"object",
  "required":["characters","world","timeline"],
  "properties":{
    "characters":{
      "type":"array",
      "items":{
        "type":"object",
        "required":["name","facts","open_questions"],
        "properties":{
          "name":{"type":"string"},
          "facts":{
            "type":"array",
            "items":{
              "type":"object",
              "required":["claim","confidence","evidence"],
              "properties":{
                "claim":{"type":"string"},
                "confidence":{"type":"string","enum":["high","med","low"]},
                "evidence":{
                  "type":"array",
                  "items":{
                    "type":"object",
                    "required":["source","note"],
                    "properties":{
                      "source":{"type":"string"},
                      "note":{"type":"string"}
                    }
                  }
                }
              }
            }
          },
          "open_questions":{
            "type":"array",
            "items":{
              "type":"object",
              "required":["question","evidence"],
              "properties":{
                "question":{"type":"string"},
                "evidence":{
                  "type":"array",
                  "items":{
                    "type":"object",
                    "required":["source","note"],
                    "properties":{
                      "source":{"type":"string"},
                      "note":{"type":"string"}
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "world":{
      "type":"object",
      "required":["facts","open_questions"],
      "properties":{
        "facts":{"type":"array"},
        "open_questions":{"type":"array"}
      }
    },
    "timeline":{
      "type":"object",
      "required":["events"],
      "properties":{
        "events":{"type":"array"}
      }
    }
  }
}
